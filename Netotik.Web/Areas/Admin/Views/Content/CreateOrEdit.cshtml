@model Netotik.ViewModels.Common.Content.ContentModel
@using Netotik.Common.Helpers
@{
    Layout = null;
}

@Html.HiddenFor(model => model.Id)


<div class="tabs-container">

    <ul class="nav nav-tabs">
        <li class="active">
            <a href="#content" data-toggle="tab">
                <i class="fa fa-file-text-o"></i>
                محتوا
            </a>
        </li>
        <li>
            <a href="#requiredInfo" data-toggle="tab">
                <i class="fa fa-archive"></i>
            مشخصات </a>
        </li>

        <li>
            <a href="#categories" data-toggle="tab">
                <i class="fa fa-list-alt"></i>
            دسته ها
            </a>
        </li>
        <li><a href="#seo" data-toggle="tab">
                <i class="fa fa-bookmark-o"></i>
            تنظیمات سئو 
            </a></li>
        <li>
            <a href="#image" data-toggle="tab">
                <i class="fa fa-file-image-o"></i>
            تصویر</a>
        </li>
    </ul>

    <div class="tab-content">
        <div class="tab-pane active" id="content">
            <div class="panel-body">
                <div class="form-group">
                    <div class="col-md-7">
                        @Html.EditorFor(model => model.Title)
                    </div>
                    <div class="col-md-5">
                        @Html.Label("برچسب های مطلب", new { @class = "control-label" })

                        @Html.DropDownListFor(model => model.TagIds, ViewBag.Tages as List<SelectListItem>, new { @class = "chosen-select chosen-rtl form-control", multiple = "" })
                    </div>
                </div>
                <div class="hr-line-dashed"></div>
                @Html.EditorFor(model => model.BodyOverview)
                <div class="hr-line-dashed"></div>
                @Html.EditorFor(model => model.Body)
            </div>
        </div>
        <div class="tab-pane" id="requiredInfo">
            <div class="panel-body">
                <div class="form-group">
                    <div class="col-md-3">
                        @Html.EditorFor(model => model.StartDate)
                    </div>
                    <div class="col-md-2">
                        @Html.EditorFor(model => model.StartDateTime)
                    </div>
                </div>
                <div class="hr-line-dashed"></div>
                <div class="form-group">
                    <div class="col-md-3">
                        @Html.EditorFor(model => model.EndDate)
                    </div>
                    <div class="col-md-2">
                        @Html.EditorFor(model => model.EndDateTime)
                    </div>
                </div>
                <div class="hr-line-dashed"></div>
                <div class="form-group">
                    <div class="col-md-4">
                        @Html.EditorFor(model => model.AllowComments)
                    </div>
                    <div class="col-md-4">
                        @Html.EditorFor(model => model.AllowViewComments)
                    </div>
                </div>
                <div class="hr-line-dashed"></div>
                @Html.EditorFor(model => model.AdminComment)
            </div>
        </div>
        <div class="tab-pane" id="categories">
            <div class="panel-body">
                @{
                    var categories = ViewBag.Categories as IEnumerable<Netotik.ViewModels.Common.ContentCategory.ContentCategoryTreeJsModel>;
                }
                @if (categories != null)
                {
                    @(Html.TreeView(categories)
                        .EmptyContent("دسته ای در سیستم ثبت نشده...!")
                        .Children(m => m.Childs)
                        .HtmlAttributes(new { id = "tree", @class = "tree" })
                        .ItemText(m => m.Name)
                        .ItemTemplate(
                        @<text>
                            <label class="label_check c_on">
                                <input class="check" type="checkbox" checked="@item.Selected" name="CategoryIds" value="#@item.Id">
                                @item.Name
                            </label>
                        </text>)
                    )
                }
            </div>
        </div>
        <div class="tab-pane" id="seo">
            <div class="panel-body">
                @Html.EditorFor(model => model.MetaTitle)
                <div class="hr-line-dashed"></div>
                @Html.EditorFor(model => model.MetaKeywords)
                <div class="hr-line-dashed"></div>
                @Html.EditorFor(model => model.MetaDescription)
            </div>
        </div>
        <div class="tab-pane" id="image">
            <div class="panel-body">
                @Html.EditorFor(model => model.Image)
                @Html.Partial("_SingleImageForm")
            </div>
        </div>
    </div>
</div>
